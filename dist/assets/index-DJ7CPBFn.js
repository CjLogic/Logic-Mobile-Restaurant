(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const g=[{name:"Pizza Pie",ingredients:["pepperoni","mushroom","mozzarella"],id:0,price:24,emoji:"pizza.png"},{name:"Beast Burger",ingredients:["beef","cheese","lettuce"],price:14,emoji:"burger.png",id:1},{name:"Burger | Fries Combo",ingredients:["beef","cheese","potato","lettuce"],price:20,emoji:"fast-food.png",id:2},{name:"Spaghetti",ingredients:["pasta","sauce","mozarella"],price:15,emoji:"spaguetti.png",id:3},{name:"Beer",ingredients:["grain, hops, yeast, water"],price:5,emoji:"beer.png",id:4}],c=document.getElementById("menu"),r=document.getElementById("cart"),u=document.getElementById("modal"),m=document.getElementById("creditCardForm"),a=document.getElementById("backdrop"),p=document.getElementById("rating-message"),b=document.getElementById("star1"),B=document.getElementById("star2"),E=document.getElementById("star3"),h=document.getElementById("star4"),I=document.getElementById("star5");function y(){p.style.display="none";const n=[b,B,E,h,I].findIndex(s=>s.checked)+1;if(n>0){const s=document.createElement("p");s.classList.add("success-message"),s&&(s.textContent=`Thanks for your ${n}-star feedback!`),setTimeout(()=>{s.remove()},3e3),c.appendChild(s)}}document.getElementById("rating").addEventListener("click",y);const v=n=>(y(),n.map(({emoji:s,name:i,ingredients:t,price:e,id:o})=>`
            <div class="menu-item">
                <img src="/images/${s}" class="item-emoji">
                <div class="item-details">
                    <h2 class="item_name">${i}</h2>
                    <p class="item-ingredients">
                        ${t.join(", ")}
                    </p>
                    <p class="item-price">$${e}</p>
                </div>
                <button class="add-item-btn" data-add="${o}">+</button>
            </div>
        `).join(""));c.innerHTML=v(g);let d=[];d.length<=0&&r.classList.add("hidden");const f=n=>n.length>0?(r.classList.remove("hidden"),n.map(({name:s,id:i,count:t,price:e})=>`
                    <div class="cart-line-item">
                        <h3 class="item_name">${s}</h3>
                        <button class="remove-item-btn" data-remove="${i}">remove</button>
                        <p class="cart-item-price">${t} X $${e} = $${t*e}</p>
                    </div>`).join("")):(r.classList.add("hidden"),""),$=n=>{const s=g.find(t=>t.id===Number(n)),i=d.find(t=>t.id===Number(n));i?i.count+=1:d.push({...s,count:1}),r.classList.remove("hidden"),document.getElementById("cart-items").innerHTML=f(d),document.getElementById("total_item_price").textContent=`$${d.reduce((t,e)=>t+e.count*e.price,0).toFixed(2)}`},L=n=>{const s=g.find(t=>t.id===Number(n)),i=d.find(t=>t.id===s.id);i&&(i.count===1?d=d.filter(t=>t.id!==s.id):i.count-=1,d.length<=0&&r.classList.add("hidden"),document.getElementById("cart-items").innerHTML=f(d),document.getElementById("total_item_price").textContent=`$${d.reduce((t,e)=>t+e.count*e.price,0).toFixed(2)}`)};m.addEventListener("submit",n=>{if(n.preventDefault(),document.getElementById("cardNumber").value.length<12){alert("Please enter a valid card number");return}u.style.display="none",a.style.display="none",d=[],r.classList.add("hidden");const t=new FormData(m).get("name"),e=document.createElement("p");e.classList.add("success-message"),e.textContent=`Thanks, ${t}! Your order is on its way! ðŸ›ï¸`,e&&(applyDiscountBtn.style.display="inline",setTimeout(()=>{e.remove(),setTimeout(()=>{p.style.display="inline",setTimeout(()=>{p.remove()},8e3)},3e3)},3100),m.reset()),c.appendChild(e)});document.addEventListener("click",n=>{if(n.target===document.getElementById("applyDiscountBtn")){const s=document.getElementById("total_item_price").textContent.replace("$","");let i=document.getElementById("discountInput").value.trim().toLowerCase();if(i==="discount"){const t=document.createElement("p");t.classList.add("success-message"),t.textContent="Discount applied!";const e=(Number(s)*.95).toFixed(2);document.getElementById("total_item_price").textContent=`$${e}`,t&&(applyDiscountBtn.style.display="none",discountPopup.style.display="none",setTimeout(()=>{t.remove()},3e3)),i=!0,document.getElementById("discountInput").value="",c.appendChild(t)}else alert("Invalid discount code")}else n.target.dataset.add&&$(n.target.dataset.add),n.target.dataset.remove&&L(n.target.dataset.remove),n.target===document.getElementById("complete-order-btn")&&(u.style.display="block",a.style.display="block"),(n.target===document.getElementById("modal-close-btn")||n.target===a)&&(u.style.display="none",a.style.display="none"),n.target===document.getElementById("discountPopup")&&(discountPopup.style.display="block",a.style.display="none"),n.target===document.getElementById("closebtn")&&(discountPopup.style.display="none",a.style.display="none")});setTimeout(function(){const n=document.getElementById("discountPopup");n.style.display="inline",a.style.display="inline"},3e3);
